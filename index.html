<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valine Project</title>
<link rel="stylesheet" href="style.css">

<!-- Firebase SDK -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import { getDatabase, ref, onValue, runTransaction } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyC98TkQYLipSzloE_St46XA4O1rv2rzT20",
    authDomain: "valine-b06ad.firebaseapp.com",
    databaseURL: "https://valine-b06ad-default-rtdb.firebaseio.com",
    projectId: "valine-b06ad",
    storageBucket: "valine-b06ad.appspot.com",
    messagingSenderId: "188820674947",
    appId: "1:188820674947:web:450cdc461e7ced7d04beb6",
    measurementId: "G-01TR04E4YT"
  };

  const app = initializeApp(firebaseConfig);
  const db = getDatabase();

  // Realtime count
  onValue(ref(db, 'copyCount'), snap => {
    document.getElementById("copyCount").textContent = snap.val() || 0;
  });
  onValue(ref(db, 'socialClick'), snap => {
    document.getElementById("socialClick").textContent = snap.val() || 0;
  });

  // Increment functions
  window.incrementCopy = () => {
    runTransaction(ref(db, 'copyCount'), current => (current || 0) + 1);
  };
  window.incrementSocial = () => {
    runTransaction(ref(db, 'socialClick'), current => (current || 0) + 1);
  };
</script>
</head>
<body>

<!-- Slider Iklan di atas -->
<div class="ads-container no-glass">
  <div class="ads-slide">
    <img src="assets/iklan1.jpg" alt="Iklan 1">
    <img src="assets/iklan2.jpg" alt="Iklan 2">
    <img src="assets/iklan3.jpg" alt="Iklan 3">
  </div>
</div>

<!-- Payment Slider -->
<div class="payment-container glass">
  <div class="payment-slide">
    <img src="assets/dana.jpg" class="payment-icon" alt="Dana" onclick="incrementCopy()">
    <img src="assets/gopay.png" class="payment-icon" alt="Gopay" onclick="incrementCopy()">
    <img src="assets/shope.png" class="payment-icon" alt="ShopeePay" onclick="incrementCopy()">
    <img src="assets/qris.png" class="payment-icon" alt="QRIS" onclick="incrementCopy()">
  </div>
</div>
<!-- qris -->
  <div class="payment-card">
  <img src="assets/qris.png" alt="QRIS" id="qris-img">
  <div class="payment-number">Klik untuk zoom</div>
</div>

<!-- Modal zoom -->
<div id="qrModal" class="modal">
  <span class="close" onclick="closeModal()">&times;</span>
  <img class="modal-content" id="modal-img">
</div>
<!-- Count -->
<div class="stats glass">
  <div>Jumlah salin nomor: <span id="copyCount">0</span></div>
  <div>Jumlah klik social: <span id="socialClick">0</span></div>
</div>

<!-- Social / Follow Us -->
<div class="social-container glass">
  <a href="https://chat.whatsapp.com/JiDk2HiRqsdLjV0KvAg7YO" target="_blank" onclick="incrementSocial()">
    <img src="assets/whatsapp-group.png" class="social-icon" alt="WA Group">
    <span>WhatsApp Group</span>
  </a>
  <a href="https://whatsapp.com/channel/0029Vb7W0LHJUM2jP4wOng1x" target="_blank" onclick="incrementSocial()">
    <img src="assets/whatsapp-channel.png" class="social-icon" alt="WA Saluran">
    <span>WhatsApp Saluran</span>
  </a>
  <a href="#" target="_blank" onclick="incrementSocial()">
    <img src="assets/tiktok.png" class="social-icon" alt="TikTok">
    <span>TikTok (Maintenance)</span>
  </a>
  <a href="#" target="_blank" onclick="incrementSocial()">
    <img src="assets/youtube.png" class="social-icon" alt="YouTube">
    <span>YouTube (Maintenance)</span>
  </a>
</div>

<script type="module" src="script.js"></script>
</body>
</html>
